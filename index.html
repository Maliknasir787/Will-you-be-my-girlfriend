<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="language" content="en-US">
  <meta name="title" content="Will You Be My Girlfriend | Aoudumber Bade">
  <meta name="github" content="https://github.com/Aoudumber-Bade">
  <link type="text/css" rel="stylesheet" href="theme.css" />
  <script src="jquery-2.0.3.min.js"></script>
  <title>Will You Be My Girlfriend üíó| Aoudumber Bade</title>
</head>

<body>
  <div id="div_container">
    <div id="div_start_bg"></div>
    <div id="div_onlyyou">
      <div id="div_oy_inner">
        <div class="div_oy_text">
          <h1></h1>
          <img class="img_oy_text" src="" />
          <p class="p_oy_text"></p>
          <div></div>
          <ul id="ul_oy_benefit">
            <li class="li_oy_benefit"></li>
            <!-- ... more benefit list items ... -->
          </ul>
        </div>
        <ul id="ul_oy_btn">
          <li onclick="oy_go_next()" style="background-color: rgb(0 169 38 / 65%);">Yes&nbsp;&nbsp;‚ù§</li>
          <li onclick="oy_show_benefit()" style="background: red;">No&nbsp;&nbsp;‚úñ</li>
        </ul>
        <div id="div_oy_note" onclick="oy_hide_note()">
          <img src=".image2.gif" alt="" /><br />Please say Yes!
          <div id="div_oy_note_close">‚úñ</div>
        </div>
        <div id="div_oy_yes">
          <img src="https://media.tenor.com/gUiu1zyxfzYAAAAi/bear-kiss-bear-kisses.gif" alt="" /><br />That's great! Haha~
        </div>
      </div>
    </div>
    <div class="div_pure_words">
      <div class="div_pure_words_bg">
        <div class="div_pure_words_height"></div>
      </div>
      <div class="div_pw_typed">
        <span id="span_pw_typed"></span>
      </div>
    </div>
    <div id="div_btn_container">
      <div id="div_btn_inner">
        <div class="div_music_tips"></div>
        <div class="div_btn" id="div_music" onclick="music_switch()">
          <img id="img_music" src="music_note_big.png" style="-webkit-animation: music_play_rotate 1s linear infinite;" />
          <audio id="audio_music" autoplay="autoplay" loop="loop">
            <source type="audio/mpeg" />
          </audio>
        </div>
        <div class="div_record_tips"></div>
        <div class="div_btn" id="div_record" onclick="record_switch()">
          <audio id="media" src="music.mp3" autoplay loop preload="auto"></audio>
        </div>
      </div>
    </div>
  </div>

  <!-- Custom Script -->
  <script>
    // Get name from URL
    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    const name = getQueryParam("name") || "";
    if (name) {
      document.title = `Will You Be My Girlfriend, ${name}? ‚ù§Ô∏è | Aoudumber Bade`;
      const heading = document.querySelector(".div_oy_text h1");
      if (heading) {
        heading.innerHTML = `Will you be my girlfriend, <um style="color:#F44336;">${name}</um>?`;
      }
    }

    function init_viewport() {
      if (navigator.userAgent.indexOf("Android") != -1) {
        var width = window.outerWidth == 0 ? window.screen.width : window.outerWidth;
        var phoneScale = parseInt(width) / 500;
        document.write('<meta name="viewport" content="width=500, minimum-scale=' + phoneScale + ', maximum-scale=' + phoneScale + ', target-densitydpi=device-dpi">');
      } else if (navigator.userAgent.indexOf("iPhone") != -1) {
        var phoneScale = parseInt(window.screen.width) / 500;
        document.write('<meta name="viewport" content="width=500, min-height=750, initial-scale=' + phoneScale + ', maximum-scale=' + phoneScale + ', user-scalable=0">');
      } else {
        document.write('<meta name="viewport" content="width=500, height=750, initial-scale=0.64">');
      }
    }
    init_viewport();

    var theme_content = {
      pure_words_content: `Meeting you is the beginning of all my beautiful stories. The moment I laid eyes on you, God whispered four words in my ear: 'No escape from destiny!'\nI may have missed your past, but I will definitely stand by you through your future!\nI love you!<um style='color: #F44336;'>üíï</um>`,
      typed_bool: "typed_y",
      cursor_char: "cursor_heart",
      bg_style_pure_words: "bg_opacity",
      bg_img: "3.jpg",
    };

    var window_height = $(window).height();
    var pure_words_content = theme_content["pure_words_content"];
    var str_cursorChar;
    var typed_bool;
    var interval_pw_height;
    var height_div_pw = $(".div_pure_words_height").height();

    function init_pure_words() {
      $(".div_pure_words_height").html(pure_words_content + "22222");

      if (theme_content["bg_style_pure_words"] == "bg_opacity" && theme_content["bg_img"] != "") {
        $(".div_pure_words_bg").css({
          "background-image": "url(" + theme_content["bg_img"] + ")",
        });
      }

      switch (theme_content["cursor_char"]) {
        case "cursor_heart":
          str_cursorChar = '<um style="color: #F44336;">‚ù§</um>'; break;
        case "cursor_sub": str_cursorChar = "_"; break;
        case "cursor_music": str_cursorChar = "‚ô´"; break;
        case "cursor_star": str_cursorChar = "‚òÖ"; break;
        case "cursor_sun": str_cursorChar = "‚òÄ"; break;
        default: str_cursorChar = "|";
      }

      typed_bool = theme_content["typed_bool"] === "typed_y";
      display_pure_words();
      $(".div_pure_words").fadeIn();

      interval_pw_height = setInterval(() => {
        var least_height_div_pw = $(".div_pure_words_height").height();
        if (least_height_div_pw > height_div_pw) {
          height_div_pw = least_height_div_pw;
        } else {
          clearInterval(interval_pw_height);
          $(".div_pure_words_height").height(least_height_div_pw + 100);
          if ($(".div_pure_words_height").height() < window_height) {
            $(".div_pure_words_height").height(window_height);
          }
        }
      }, 100);
    }

    function display_pure_words() {
      if (typed_bool) {
        new Typed("#span_pw_typed", {
          strings: [pure_words_content],
          typeSpeed: 120,
          cursorChar: str_cursorChar,
          contentType: "html",
          onComplete: function () {
            console.log("finished typing words");
          }
        });
      } else {
        $("#span_pw_typed").html(pure_words_content).fadeIn();
      }
    }

    var start_id;
    $(function () {
      start_id = "onlyyou";
      init_start(start_id);
    });

    function init_start(start_id) {
      if (start_id === "onlyyou") {
        $("#div_onlyyou").show();
      }
    }
  </script>

  <!-- Dependencies -->
  <script src="typed.min.js"></script>
  <script src="start_onlyyou.js"></script>
  <script src="jweixin-1.2.0.js"></script>
  <script src="theme_common.js"></script>
</body>
</html>
